# Event Hooks Configuration
# This file defines event-driven hooks, their workflows, and settings

_metadata:
  name: "Event Hooks & Workflows"
  description: "Configure event-driven hooks, associated workflows, and execution settings"
  version: "1.0.0"
  editable: true

# Event Hooks Definition
hooks:
  record:created:
    enabled:
      value: true
      type: 'boolean'
      description: 'Enable this hook'
      required: true
    workflows:
      value:
        - validate-record
        - notify-council
      type: 'array'
      description: 'Workflows to execute when this hook triggers'
      required: true
    audit:
      value: true
      type: 'boolean'
      description: 'Enable audit logging for this hook'
      required: true
    description:
      value: 'Triggered when a new record is created'
      type: 'string'
      description: 'Human-readable description of when this hook triggers'
      required: true

  record:updated:
    enabled:
      value: true
      type: 'boolean'
      description: 'Enable this hook'
      required: true
    workflows:
      value:
        - validate-record
        - update-index
      type: 'array'
      description: 'Workflows to execute when this hook triggers'
      required: true
    audit:
      value: true
      type: 'boolean'
      description: 'Enable audit logging for this hook'
      required: true
    description:
      value: 'Triggered when a record is updated'
      type: 'string'
      description: 'Human-readable description of when this hook triggers'
      required: true

  record:committed:
    enabled:
      value: true
      type: 'boolean'
      description: 'Enable this hook'
      required: true
    workflows:
      value:
        - validate-record
      type: 'array'
      description: 'Workflows to execute when this hook triggers'
      required: true
    audit:
      value: true
      type: 'boolean'
      description: 'Enable audit logging for this hook'
      required: true
    description:
      value: 'Triggered when a record is committed to Git'
      type: 'string'
      description: 'Human-readable description of when this hook triggers'
      required: true

  status:changed:
    enabled:
      value: true
      type: 'boolean'
      description: 'Enable this hook'
      required: true
    workflows:
      value:
        - notify-stakeholders
      type: 'array'
      description: 'Workflows to execute when this hook triggers'
      required: true
    audit:
      value: true
      type: 'boolean'
      description: 'Enable audit logging for this hook'
      required: true
    description:
      value: 'Triggered when a record status changes'
      type: 'string'
      description: 'Human-readable description of when this hook triggers'
      required: true

  validation:failed:
    enabled:
      value: true
      type: 'boolean'
      description: 'Enable this hook'
      required: true
    workflows:
      value:
        - notify-author
      type: 'array'
      description: 'Workflows to execute when this hook triggers'
      required: true
    audit:
      value: true
      type: 'boolean'
      description: 'Enable audit logging for this hook'
      required: true
    description:
      value: 'Triggered when record validation fails'
      type: 'string'
      description: 'Human-readable description of when this hook triggers'
      required: true

# Global Hook Settings
settings:
  maxConcurrent:
    value: 5
    type: 'number'
    description: 'Maximum number of hooks that can run simultaneously'
    required: true
  timeout:
    value: 30000
    type: 'number'
    description: 'Hook execution timeout in milliseconds'
    required: true
  retryAttempts:
    value: 3
    type: 'number'
    description: 'Number of retry attempts for failed hooks'
    required: true
  defaultMode:
    value: 'async'
    type: 'array'
    options: [
      { value: 'sync', label: 'Synchronous' },
      { value: 'async', label: 'Asynchronous' }
    ]
    description: 'Default execution mode for hooks'
    required: true 