# Storage Configuration
# This file configures file storage providers, folders, and settings

_metadata:
  name: 'File Storage System'
  description:
    'Configure storage providers, folders, and file handling settings'
  version: '1.0.0'
  editable: true

# Storage Backend Configuration
backend:
  type: local
  path: storage

# Storage Providers
providers:
  local:
    type: local
    path: storage
    enabled: true
  s3:
    type: s3
    enabled: false
    region: us-east-1
    bucket: ''
    credentials:
      access_key_id: ''
      secret_access_key: ''
      session_token: ''
    endpoint: ''
    prefix: ''
    options:
      force_path_style: false
      use_accelerate_endpoint: false
  azure:
    type: azure
    enabled: false
    account_name: ''
    container_name: storage
    credentials:
      connection_string: ''
      account_key: ''
    prefix: ''
    options:
      access_tier: Hot
  gcs:
    type: gcs
    enabled: false
    bucket: ''
    credentials:
      project_id: ''
      service_account_key: ''
    prefix: ''

# Active Provider and Failover
active_provider: local
failover_providers:
  - local

# Global Storage Settings
global:
  max_file_size: 100MB
  health_checks: true
  health_check_interval: 5
  retry_attempts: 3
  cross_provider_backup: false
  backup_providers: []

# Storage Folders Configuration
folders:
  public:
    path: public
    access: public
    allowed_types:
      - jpg
      - jpeg
      - png
      - gif
      - pdf
      - txt
      - md
      - doc
      - docx
      - rtf
      - epub
      - xls
      - xlsx
      - ppt
      - pptx
    max_size: 10MB
    description: Public files accessible to everyone
  sessions:
    path: sessions
    access: public
    allowed_types:
      - mp4
      - webm
      - mp3
      - wav
      - pdf
      - md
    max_size: 100MB
    description: Meeting recordings and session materials
  permits:
    path: permits
    access: authenticated
    allowed_types:
      - pdf
      - jpg
      - jpeg
      - png
    max_size: 5MB
    description: Permit applications and documents
  private:
    path: private
    access: private
    allowed_types:
      - pdf
      - doc
      - docx
      - xls
      - xlsx
    max_size: 25MB
    description: Private documents for authorized users only
  icons:
    path: icons
    access: public
    allowed_types:
      - png
      - svg
      - jpg
      - jpeg
      - gif
      - webp
      - ico
    max_size: 2MB
    description: Icons and map-related images for geography records

# Metadata Processing Settings
metadata:
  auto_generate_thumbnails: true
  store_exif: true
  compress_images: true
  backup_included: true
